import { axe } from 'vitest-axe';
import userEvent from '@testing-library/user-event';
import { AccessibleIcon }  from "../src/accessible-icon.ripple";

const TEXT_CHILD = "TEST";

component CrossIcon(props) {
     <svg viewBox="0 0 32 32" width={24} height={24} fill="none" stroke="currentColor" {...props}>
        <path d="M2 30 L30 2 M30 30 L2 2" />
    </svg>
}

describe("accessible-icon", () => {
    beforeEach(() => {
		component Test(){
			<AccessibleIcon label={TEXT_CHILD} data-id={TEXT_CHILD}>
				component children(props){
					<CrossIcon {...props} />
				}
			</AccessibleIcon>
		}
		render(Test);
	});

    it('should have no accessibility violations', async () => {
		expect(await axe(container)).toHaveNoViolations();
	});
    
    it("should work", () => {
         expect(container).toMatchSnapshot()
    })
})